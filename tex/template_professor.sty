\RequirePackage{amsmath,amssymb}

\RequirePackage[brazil]{babel}

% varias melhorias de typeset
\RequirePackage{microtype}

\RequirePackage[textwidth=186mm,
paperwidth=196mm,
paperheight=280mm,
top=10mm,
left=5mm,
right=5mm,
bottom=8mm,
marginpar=10mm]{geometry}
%\geometry{
% textwidth=157mm,
% paperwidth=196mm,
% paperheight=280mm,
% top=1in,
% left=12mm,
% right=20mm,
% footskip=.7in,
% marginpar=10mm
% }

% Place crop marks
\RequirePackage[center,height=297mm,width=210mm,cam]{crop}

% Para enumerates customizados
\RequirePackage{enumerate}
\RequirePackage[shortlabels]{enumitem}
\setlist[itemize,1]{label={$\star$},leftmargin=*,topsep=0pt}
\setlist[enumerate]{leftmargin=*,topsep=0pt}

% Para usar tabelas balanceadas
\RequirePackage{tabulary}
\RequirePackage{longtable}% para quebrar tabela entre páginas

% Choose font
\RequirePackage{ifxetex}
\ifxetex
   \RequirePackage{fontspec}
   \setmainfont{Lato Light}
   \newfontface\titlefont{STIXIntegralsUp}
   \newfontface\thickfont{Nimbus Sans L}
   \newfontface\bigtitlefont[Scale=1.3]{Cabin}
   %\newcommand\titlefont{}
   %\newcommand\thickfont{}
\else
   \RequirePackage[utf8]{inputenc}
%   \RequirePackage[sfdefault,thin]{roboto}  %% sfdefault is the base font
   \RequirePackage{helvet}
   \newcommand\titlefont{\fontfamily{helvet}\selectfont}
   \newcommand\thickfont{\fontfamily{cmss}\selectfont}
   \newcommand\bigtitlefont{\fontfamily{cmss}\selectfont}
\fi

% Larger spacing between lines
\linespread{1}

%%%%%%%%%%%%%Header%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\RequirePackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\rhead{}
\lhead{Manual do Professor}


% To define colors
\RequirePackage[dvipsnames]{xcolor}

% By davidgav see www.colourlovers.com/palette/2350697/This_is_for_YOU!
\definecolor{dark}{RGB}     {97,83,117}
\definecolor{common}{RGB}   {142,178,197}
\definecolor{special}{RGB}  {229,98,92}
\definecolor{light}{RGB}    {249,191,118}
\definecolor{attention}{RGB}{209,49,61}


%%%%%%%%%%%%%%%%%%%% Chapter and section titles %%%%%%%%%%%%%%%%%%%%%%%%%
\RequirePackage{titlesec} % needed for define chapter and section style.
\setcounter{chapter}{0}

% Subsection style
%\renewcommand{\thesubsection}{\arabic{subsection}}% to define subsection numbering without section number
\titleformat{\subsection}[block]{\normalfont\normalsize\bfseries\color{special}}{}{20pt}{\large}
%
% Pacotes para desenhos
\RequirePackage{tikz}
\usetikzlibrary{shapes}
\usetikzlibrary{calc}
\usetikzlibrary{snakes}

% Refletindo
\RequirePackage{tcolorbox}
%\RequirePackage{varwidth}
\tcbuselibrary{listings,breakable,most}

\RequirePackage{multicol}
\setlength{\columnsep}{1.3cm}

\newtcbtheorem{professor}{Para o Professor}%
{colback=purple!15,colframe=purple,fonttitle=\bfseries}{th}
\newtcbtheorem{introdutorio}{Introdutório}%
{colback=green!5,colframe=green!35!black,fonttitle=\bfseries}{th}
\newtcbtheorem{abstrato}{Modelo abstrato}%
{colback=green!5,colframe=green!35!black,fonttitle=\bfseries}{th}
\newtcbtheorem{conexoes}{Conexões}%
{colback=green!5,colframe=green!35!black,fonttitle=\bfseries}{th}
\newtcbtheorem{explorando}{Explorando}%
{colback=green!5,colframe=green!35!black,fonttitle=\bfseries}{th}
\newtcbtheorem{massa}{Mão na massa}%
{colback=green!5,colframe=green!35!black,fonttitle=\bfseries}{th}
\newtcbtheorem{exercicio}{Exercício}%
{colback=gray!15,colframe=gray,fonttitle=\bfseries}{th}


\newenvironment{absolutelynopagebreak}
  {\par\nobreak\vfil\penalty0\vfilneg
   \vtop\bgroup}
  {\par\xdef\tpd{\the\prevdepth}\egroup
   \prevdepth=\tpd}

\newenvironment{resposta*}[1]
{ \color{common}
  %\begin{center}
  \bigskip \medskip
    {\large\normalfont\bfseries Resposta da #1}\\ \medskip
  %\end{center}
  \color{dark!70!black}
  \begingroup\thickfont
}
{ \color{black}
  \endgroup
}

\newtcbtheorem{imagem}{Imagem}%
{colback=light!15,colframe=light,fonttitle=\bfseries}{th}
\newtcbtheorem{figura}{Figura}%
{colback=green!5,colframe=green!35!black,fonttitle=\bfseries}{th}
\newtcbtheorem{nota}{Nota}%
{colback=gray!5,colframe=gray!35!black,fonttitle=\bfseries}{th}
